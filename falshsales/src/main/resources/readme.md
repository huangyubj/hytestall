### 秒杀需求描述
秒杀是一个同一时间涌入大量请求生成订单的需求，对系统的并发、吞吐、数据库都有一定的压力，需要在提供稳定的服务下防止超卖，

### 单机情况
在单机小规模的情况下，可以用一个blockingqueue来做处理队列缓存处理请求，一个线程池来从队列中获取请求处理订单，用syn来保证线程安全，当秒杀完毕后，队列中的数据都需要返回没库存了，  
如果想要减少数据库查询，可以用Semaphore构建一个商品库存池，池子里没有商品后秒杀结束，如果处理失败吧商品放回秒杀池，服务器的处理能力有限可以采用计数器或者令牌桶来做限流，

### 集群情况
当规模稍大一些，单机不能处理，需要一个集群来处理的时候，可以引入redis，用redis做分布式锁，控制线程安全问题，做库存的缓存减小数据库压力，做限流控制服务器的压力，还能做请求处理队列

### 分布式情况
如果规模在大一些，可能就还需要做服务拆分，用mq来协调商品服务和订单服务之间的通信了，利用mq的消息队列来做传输生成订单请求。本质来说需要看实际的并发情况，  
在没有必要使用更多中间件的情况下，尽量避免，毕竟会增加通信的成本还有加大故障的概率和问题排查难度。
